{
  "session_meta": {
    "session_id": "cursor_export_unknown_5248",
    "exported_at": null,
    "cursor_version": null,
    "phase": 2,
    "subphase": null,
    "source_doc": "longcontext_phase_2.md"
  },
  "snippets": [
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-002-00-text",
      "lang": "text",
      "code": "í˜„ì¬ Phase: Phase 1 ì™„ë£Œ, Phase 2 ë¯¸ì‹œì‘\nì™„ë£Œìœ¨: Phase 1 ì•½ 95% (main.pyë§Œ ë¯¸ìƒì„±)\në‹¤ìŒ ë‹¨ê³„: Phase 2 ì‹œì‘ ì¤€ë¹„ ìƒíƒœ\n",
      "source": {
        "turn_index": 2,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          3
        ]
      },
      "snippet_hash": "43dc7ff64fd6a04eeab57f1c2c28184fa4435ac6ea34bcc0adf0b03e40d67b2d",
      "aliases": [
        "SNP-cursor_export_unknown_5248-002-01-plaintext"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-006-00-python",
      "lang": "python",
      "code": "# backend/main.py\n- FastAPI ì•± ì¸ìŠ¤í„´ìŠ¤\n- CORS ë¯¸ë“¤ì›¨ì–´\n- ì˜ˆì™¸ í•¸ë“¤ëŸ¬\n- Health check ì—”ë“œí¬ì¸íŠ¸\n- ë¼ìš°í„° ë“±ë¡ (ì£¼ì„ ì²˜ë¦¬, Phase 6ì—ì„œ êµ¬í˜„)\n",
      "source": {
        "turn_index": 6,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          7
        ]
      },
      "snippet_hash": "6170525b4e8a3617aa187866821669baae4b16658f350c3098aa1fa142d90d66",
      "aliases": [
        "SNP-cursor_export_unknown_5248-006-01-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-008-00-python",
      "lang": "python",
      "code": "\"\"\"\nFastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì \n\nì´ ëª¨ë“ˆì€ FastAPI ì•±ì„ ì´ˆê¸°í™”í•˜ê³ , CORS ì„¤ì •, ë¼ìš°í„° ë“±ë¡, ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\n\"\"\"\n\nfrom fastapi import FastAPI, HTTPException, Request\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import JSONResponse\nfrom typing import Dict, Any\n\n# FastAPI ì•± ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\napp = FastAPI(\n    title=\"Longtext Analysis API\",\n    description=\"Cursor IDE ì„¸ì…˜ ëŒ€í™” ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì„ íŒŒì‹±í•˜ì—¬ Timeline, Issue Cards, ì½”ë“œ ìŠ¤ë‹ˆí«ì„ ìƒì„±í•˜ëŠ” API\",\n    version=\"0.1.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\",\n)\n\n# CORS ì„¤ì •\n# ê°œë°œ í™˜ê²½: Next.js í”„ë¡ íŠ¸ì—”ë“œ (localhost:3000) í—ˆìš©\n# í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬ ê¶Œì¥\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\n        \"http://localhost:3000\",  # Next.js ê°œë°œ ì„œë²„\n        \"http://127.0.0.1:3000\",\n    ],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n\n# ì˜ˆì™¸ ì²˜ë¦¬ í•¸ë“¤ëŸ¬\n@app.exception_handler(HTTPException)\nasync def http_exception_handler(request: Request, exc: HTTPException) -> JSONResponse:\n    \"\"\"HTTP ì˜ˆì™¸ ì²˜ë¦¬\"\"\"\n    return JSONResponse(\n        status_code=exc.status_code,\n        content={\"detail\": exc.detail},\n    )\n\n\n@app.exception_handler(Exception)\nasync def general_exception_handler(request: Request, exc: Exception) -> JSONResponse:\n    \"\"\"ì¼ë°˜ ì˜ˆì™¸ ì²˜ë¦¬\"\"\"\n    return JSONResponse(\n        status_code=500,\n        content={\"detail\": f\"Internal server error: {str(exc)}\"},\n    )\n\n\n# Health Check ì—”ë“œí¬ì¸íŠ¸\n# E2E í…ŒìŠ¤íŠ¸ì—ì„œ ì„œë²„ ìƒíƒœ í™•ì¸ìš©\n@app.get(\"/health\")\nasync def health_check() -> Dict[str, str]:\n    \"\"\"\n    ì„œë²„ ìƒíƒœ í™•ì¸ ì—”ë“œí¬ì¸íŠ¸\n    \n    Returns:\n        {\"status\": \"ok\"}\n    \"\"\"\n    return {\"status\": \"ok\"}\n\n\n# ë¼ìš°í„° ë“±ë¡\n# Phase 6ì—ì„œ ì‹¤ì œ ë¼ìš°í„° êµ¬í˜„ ì˜ˆì •\n# í˜„ì¬ëŠ” êµ¬ì¡°ë§Œ ì¤€ë¹„\n\n# TODO: Phase 6ì—ì„œ êµ¬í˜„ ì˜ˆì •\n# from backend.api.routes import parse, timeline, issues, snippets, export\n#\n# app.include_router(parse.router)\n# app.include_router(timeline.router)\n# app.include_router(issues.router)\n# app.include_router(snippets.router)\n# app.include_router(export.router)\n\n\n# ë£¨íŠ¸ ì—”ë“œí¬ì¸íŠ¸\n@app.get(\"/\")\nasync def root() -> Dict[str, Any]:\n    \"\"\"\n    ë£¨íŠ¸ ì—”ë“œí¬ì¸íŠ¸\n    \n    Returns:\n        API ì •ë³´ ë° ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸\n    \"\"\"\n    return {\n        \"message\": \"Longtext Analysis API\",\n        \"version\": \"0.1.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\",\n        \"health\": \"/health\",\n    }\n\n\nif __name__ == \"__main__\":\n    import uvicorn\n\n    uvicorn.run(\n        \"backend.main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True,\n    )\n\n",
      "source": {
        "turn_index": 8,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          9
        ]
      },
      "snippet_hash": "f103179fef7d87e19bc9ba482cd0cded294e91f0b52f81fa27a700bbe8d8fb4a",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-013-00-text",
      "lang": "text",
      "code": "ë§ˆí¬ë‹¤ìš´ íŒŒì¼ ì—…ë¡œë“œ\n  â†“\nIngest & Normalize\n  â†“\nSession Meta ì¶”ì¶œ\n  â†“\nTurn íŒŒì‹±\n  â†“\nArtifact ì¶”ì¶œ\n  â†“\nEvent ì •ê·œí™”\n  â†“\nTimeline ìƒì„± + Issue Cards ìƒì„± + ì½”ë“œ ìŠ¤ë‹ˆí« ë¶„ë¦¬\n  â†“\nJSON/MD ì¶œë ¥\n  â†“\në‹¤ìš´ë¡œë“œ\n",
      "source": {
        "turn_index": 13,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          14
        ]
      },
      "snippet_hash": "758d6681093611f4ca7715a8b847d7221ad952ab6fd36a38cd11884f0e5b4265",
      "aliases": [
        "SNP-cursor_export_unknown_5248-029-00-text",
        "SNP-cursor_export_unknown_5248-067-00-text",
        "SNP-cursor_export_unknown_5248-083-00-text",
        "SNP-cursor_export_unknown_5248-099-00-text",
        "SNP-cursor_export_unknown_5248-115-00-text",
        "SNP-cursor_export_unknown_5248-131-00-text",
        "SNP-cursor_export_unknown_5248-147-00-text",
        "SNP-cursor_export_unknown_5248-163-00-text",
        "SNP-cursor_export_unknown_5248-179-00-text",
        "SNP-cursor_export_unknown_5248-207-00-text",
        "SNP-cursor_export_unknown_5248-223-00-text",
        "SNP-cursor_export_unknown_5248-239-00-text",
        "SNP-cursor_export_unknown_5248-255-00-text",
        "SNP-cursor_export_unknown_5248-271-00-text",
        "SNP-cursor_export_unknown_5248-287-00-text",
        "SNP-cursor_export_unknown_5248-303-00-text",
        "SNP-cursor_export_unknown_5248-319-00-text"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-022-00-python",
      "lang": "python",
      "code": "class SessionMeta(BaseModel):\n    session_id: str\n    exported_at: Optional[str]\n    cursor_version: Optional[str]\n    phase: Optional[int]\n    subphase: Optional[int]\n    source_doc: str\n",
      "source": {
        "turn_index": 22,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          23
        ]
      },
      "snippet_hash": "73d4661d4230494d7d93efd4ca453388e0ee295a479c0e0f0001a6ccd5e2f4aa",
      "aliases": [
        "SNP-cursor_export_unknown_5248-038-00-python",
        "SNP-cursor_export_unknown_5248-076-00-python",
        "SNP-cursor_export_unknown_5248-092-00-python",
        "SNP-cursor_export_unknown_5248-108-00-python",
        "SNP-cursor_export_unknown_5248-124-00-python",
        "SNP-cursor_export_unknown_5248-140-00-python",
        "SNP-cursor_export_unknown_5248-156-00-python",
        "SNP-cursor_export_unknown_5248-172-00-python",
        "SNP-cursor_export_unknown_5248-188-00-python",
        "SNP-cursor_export_unknown_5248-216-00-python",
        "SNP-cursor_export_unknown_5248-232-00-python",
        "SNP-cursor_export_unknown_5248-248-00-python",
        "SNP-cursor_export_unknown_5248-264-00-python",
        "SNP-cursor_export_unknown_5248-280-00-python",
        "SNP-cursor_export_unknown_5248-296-00-python",
        "SNP-cursor_export_unknown_5248-312-00-python",
        "SNP-cursor_export_unknown_5248-328-00-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-022-01-python",
      "lang": "python",
      "code": "class TimelineEvent(BaseModel):\n    seq: int\n    session_id: str\n    phase: Optional[int]\n    subphase: Optional[int]\n    type: EventType  # status_review|plan|artifact|debug|completion|next_step|turn\n    summary: str\n    artifacts: List[ArtifactRef]\n    snippet_refs: List[str]  # snippet_id\n",
      "source": {
        "turn_index": 22,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          23
        ]
      },
      "snippet_hash": "d59e38bf063e3ab9000a2f611b625a399cf3156a64e8a508d8781bb0abf2e2d5",
      "aliases": [
        "SNP-cursor_export_unknown_5248-038-01-python",
        "SNP-cursor_export_unknown_5248-076-01-python",
        "SNP-cursor_export_unknown_5248-092-01-python",
        "SNP-cursor_export_unknown_5248-108-01-python",
        "SNP-cursor_export_unknown_5248-124-01-python",
        "SNP-cursor_export_unknown_5248-140-01-python",
        "SNP-cursor_export_unknown_5248-156-01-python",
        "SNP-cursor_export_unknown_5248-172-01-python",
        "SNP-cursor_export_unknown_5248-188-01-python",
        "SNP-cursor_export_unknown_5248-216-01-python",
        "SNP-cursor_export_unknown_5248-232-01-python",
        "SNP-cursor_export_unknown_5248-248-01-python",
        "SNP-cursor_export_unknown_5248-264-01-python",
        "SNP-cursor_export_unknown_5248-280-01-python",
        "SNP-cursor_export_unknown_5248-296-01-python",
        "SNP-cursor_export_unknown_5248-312-01-python",
        "SNP-cursor_export_unknown_5248-328-01-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-022-02-python",
      "lang": "python",
      "code": "class IssueCard(BaseModel):\n    issue_id: str\n    scope: IssueScope\n    title: str\n    symptoms: List[str]\n    root_cause: Optional[RootCause]\n    evidence: List[Evidence]\n    fix: List[Fix]\n    validation: List[str]\n    related_artifacts: List[ArtifactRef]\n    snippet_refs: List[str]\n",
      "source": {
        "turn_index": 22,
        "block_index": 2
      },
      "links": {
        "event_seq": [
          23
        ]
      },
      "snippet_hash": "ace47983ec5d34a35c06ba425212df196310ee8932d21d5338d0fbba3b339e08",
      "aliases": [
        "SNP-cursor_export_unknown_5248-038-02-python",
        "SNP-cursor_export_unknown_5248-076-02-python",
        "SNP-cursor_export_unknown_5248-092-02-python",
        "SNP-cursor_export_unknown_5248-108-02-python",
        "SNP-cursor_export_unknown_5248-124-02-python",
        "SNP-cursor_export_unknown_5248-140-02-python",
        "SNP-cursor_export_unknown_5248-156-02-python",
        "SNP-cursor_export_unknown_5248-172-02-python",
        "SNP-cursor_export_unknown_5248-188-02-python",
        "SNP-cursor_export_unknown_5248-216-02-python",
        "SNP-cursor_export_unknown_5248-232-02-python",
        "SNP-cursor_export_unknown_5248-248-02-python",
        "SNP-cursor_export_unknown_5248-264-02-python",
        "SNP-cursor_export_unknown_5248-280-02-python",
        "SNP-cursor_export_unknown_5248-296-02-python",
        "SNP-cursor_export_unknown_5248-312-02-python",
        "SNP-cursor_export_unknown_5248-328-02-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-022-03-python",
      "lang": "python",
      "code": "class Snippet(BaseModel):\n    snippet_id: str\n    lang: str\n    code: str\n    source: SnippetSource\n    links: SnippetLinks\n",
      "source": {
        "turn_index": 22,
        "block_index": 3
      },
      "links": {
        "event_seq": [
          23
        ]
      },
      "snippet_hash": "5c9b0818c07e045f81b741fd8ca3cb5e1cbc9d72880b10308c51220adc1befde",
      "aliases": [
        "SNP-cursor_export_unknown_5248-038-03-python",
        "SNP-cursor_export_unknown_5248-076-03-python",
        "SNP-cursor_export_unknown_5248-092-03-python",
        "SNP-cursor_export_unknown_5248-108-03-python",
        "SNP-cursor_export_unknown_5248-124-03-python",
        "SNP-cursor_export_unknown_5248-140-03-python",
        "SNP-cursor_export_unknown_5248-156-03-python",
        "SNP-cursor_export_unknown_5248-172-03-python",
        "SNP-cursor_export_unknown_5248-188-03-python",
        "SNP-cursor_export_unknown_5248-216-03-python",
        "SNP-cursor_export_unknown_5248-232-03-python",
        "SNP-cursor_export_unknown_5248-248-03-python",
        "SNP-cursor_export_unknown_5248-264-03-python",
        "SNP-cursor_export_unknown_5248-280-03-python",
        "SNP-cursor_export_unknown_5248-296-03-python",
        "SNP-cursor_export_unknown_5248-312-03-python",
        "SNP-cursor_export_unknown_5248-328-03-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-023-00-text",
      "lang": "text",
      "code": "longtext-analysis/\nâ”œâ”€â”€ backend/\nâ”‚   â”œâ”€â”€ api/\nâ”‚   â”‚   â””â”€â”€ routes/\nâ”‚   â”‚       â”œâ”€â”€ parse.py\nâ”‚   â”‚       â”œâ”€â”€ timeline.py\nâ”‚   â”‚       â”œâ”€â”€ issues.py\nâ”‚   â”‚       â”œâ”€â”€ snippets.py\nâ”‚   â”‚       â””â”€â”€ export.py\nâ”‚   â”œâ”€â”€ parser/\nâ”‚   â”‚   â”œâ”€â”€ normalize.py\nâ”‚   â”‚   â”œâ”€â”€ meta.py\nâ”‚   â”‚   â”œâ”€â”€ turns.py\nâ”‚   â”‚   â”œâ”€â”€ snippets.py\nâ”‚   â”‚   â””â”€â”€ artifacts.py\nâ”‚   â”œâ”€â”€ builders/\nâ”‚   â”‚   â”œâ”€â”€ event_normalizer.py\nâ”‚   â”‚   â”œâ”€â”€ timeline_builder.py\nâ”‚   â”‚   â”œâ”€â”€ issues_builder.py\nâ”‚   â”‚   â””â”€â”€ snippet_manager.py\nâ”‚   â”œâ”€â”€ render/\nâ”‚   â”‚   â””â”€â”€ render_md.py\nâ”‚   â”œâ”€â”€ core/\nâ”‚   â”‚   â”œâ”€â”€ models.py\nâ”‚   â”‚   â”œâ”€â”€ constants.py\nâ”‚   â”‚   â”œâ”€â”€ llm_service.py\nâ”‚   â”‚   â””â”€â”€ snippet_storage.py\nâ”‚   â”œâ”€â”€ main.py\nâ”‚   â””â”€â”€ pyproject.toml\nâ”œâ”€â”€ frontend/\nâ”‚   â”œâ”€â”€ app/\nâ”‚   â”‚   â””â”€â”€ page.tsx\nâ”‚   â”œâ”€â”€ components/\nâ”‚   â”‚   â”œâ”€â”€ FileUpload.tsx\nâ”‚   â”‚   â”œâ”€â”€ SessionMetaPreview.tsx\nâ”‚   â”‚   â”œâ”€â”€ TimelinePreview.tsx\nâ”‚   â”‚   â”œâ”€â”€ IssuesPreview.tsx\nâ”‚   â”‚   â””â”€â”€ SnippetsPreview.tsx\nâ”‚   â”œâ”€â”€ lib/\nâ”‚   â”‚   â”œâ”€â”€ api.ts\nâ”‚   â”‚   â””â”€â”€ constants.ts\nâ”‚   â”œâ”€â”€ types/\nâ”‚   â”‚   â””â”€â”€ api.ts\nâ”‚   â””â”€â”€ package.json\nâ”œâ”€â”€ tests/\nâ”‚   â”œâ”€â”€ fixtures/\nâ”‚   â”œâ”€â”€ golden/\nâ”‚   â”œâ”€â”€ test_parser.py\nâ”‚   â”œâ”€â”€ test_event_normalizer.py\nâ”‚   â”œâ”€â”€ test_timeline_builder.py\nâ”‚   â”œâ”€â”€ test_issues_builder.py\nâ”‚   â”œâ”€â”€ test_api.py\nâ”‚   â””â”€â”€ test_integration.py\nâ”œâ”€â”€ docs/\nâ”‚   â”œâ”€â”€ PRD_longtext.md\nâ”‚   â”œâ”€â”€ instruction_detail.md\nâ”‚   â””â”€â”€ instruction_moredetail.md\nâ”œâ”€â”€ .cursor/\nâ”‚   â””â”€â”€ rules/\nâ”œâ”€â”€ AGENTS.md\nâ”œâ”€â”€ api-contract-sync.mdc\nâ””â”€â”€ README.md\n",
      "source": {
        "turn_index": 23,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          24
        ]
      },
      "snippet_hash": "2f88b0c9d66685f3d771ff3674cd59e418825b79610c205372ce6acfa5b82ad7",
      "aliases": [
        "SNP-cursor_export_unknown_5248-039-00-text",
        "SNP-cursor_export_unknown_5248-077-00-text",
        "SNP-cursor_export_unknown_5248-093-00-text",
        "SNP-cursor_export_unknown_5248-109-00-text",
        "SNP-cursor_export_unknown_5248-125-00-text",
        "SNP-cursor_export_unknown_5248-141-00-text",
        "SNP-cursor_export_unknown_5248-157-00-text",
        "SNP-cursor_export_unknown_5248-173-00-text",
        "SNP-cursor_export_unknown_5248-189-00-text",
        "SNP-cursor_export_unknown_5248-217-00-text",
        "SNP-cursor_export_unknown_5248-233-00-text",
        "SNP-cursor_export_unknown_5248-249-00-text",
        "SNP-cursor_export_unknown_5248-265-00-text",
        "SNP-cursor_export_unknown_5248-281-00-text",
        "SNP-cursor_export_unknown_5248-297-00-text",
        "SNP-cursor_export_unknown_5248-313-00-text",
        "SNP-cursor_export_unknown_5248-329-00-text"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-024-00-markdown",
      "lang": "markdown",
      "code": "# Longtext Analysis\n\n## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”\n- ëª©ì  ë° ë°°ê²½\n- ì£¼ìš” ê¸°ëŠ¥\n\n## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°\n",
      "source": {
        "turn_index": 24,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          25
        ]
      },
      "snippet_hash": "c0539a8a3d1406525414c1a701c4f2209ce7326cf359ce7527d79784a0f6d1d1",
      "aliases": [
        "SNP-cursor_export_unknown_5248-040-00-markdown",
        "SNP-cursor_export_unknown_5248-078-00-markdown",
        "SNP-cursor_export_unknown_5248-094-00-markdown",
        "SNP-cursor_export_unknown_5248-110-00-markdown",
        "SNP-cursor_export_unknown_5248-126-00-markdown",
        "SNP-cursor_export_unknown_5248-142-00-markdown",
        "SNP-cursor_export_unknown_5248-158-00-markdown",
        "SNP-cursor_export_unknown_5248-174-00-markdown",
        "SNP-cursor_export_unknown_5248-190-00-markdown",
        "SNP-cursor_export_unknown_5248-218-00-markdown",
        "SNP-cursor_export_unknown_5248-234-00-markdown",
        "SNP-cursor_export_unknown_5248-250-00-markdown",
        "SNP-cursor_export_unknown_5248-266-00-markdown",
        "SNP-cursor_export_unknown_5248-282-00-markdown",
        "SNP-cursor_export_unknown_5248-298-00-markdown",
        "SNP-cursor_export_unknown_5248-314-00-markdown",
        "SNP-cursor_export_unknown_5248-330-00-markdown"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-024-01-text",
      "lang": "text",
      "code": "\n## ğŸš€ ì‹œì‘í•˜ê¸°\n### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­\n### ì„¤ì¹˜ ë°©ë²•\n### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •\n### ì‹¤í–‰ ë°©ë²•\n\n## ğŸ“– ì‚¬ìš© ê°€ì´ë“œ\n### ì…ë ¥ íŒŒì¼ í˜•ì‹\n### ì¶œë ¥ í˜•ì‹\n### API ì‚¬ìš©ë²•\n\n## ğŸ§ª í…ŒìŠ¤íŠ¸\n### í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•\n### E2E í…ŒìŠ¤íŠ¸\n\n## ğŸ“š ì°¸ê³  ë¬¸ì„œ\n- PRD\n- TODOs.md\n- AGENTS.md\n\n## ğŸ”§ ê°œë°œ ê°€ì´ë“œ\n### ì½”ë“œ ìŠ¤íƒ€ì¼\n### ì»¤ë°‹ ê·œì¹™\n### Phaseë³„ ì§„í–‰ ìƒí™©\n\n## ğŸ“ ë³€ê²½ ì´ë ¥\n- Phaseë³„ ì™„ë£Œ ì‚¬í•­\n- ìµœê·¼ ì—…ë°ì´íŠ¸\n",
      "source": {
        "turn_index": 24,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          25
        ]
      },
      "snippet_hash": "69c1047a9e94f95af9f4e50240ed3da84bb5e4b77c429a46bd01a6420728ad59",
      "aliases": [
        "SNP-cursor_export_unknown_5248-040-01-text",
        "SNP-cursor_export_unknown_5248-078-01-text",
        "SNP-cursor_export_unknown_5248-094-01-text",
        "SNP-cursor_export_unknown_5248-110-01-text",
        "SNP-cursor_export_unknown_5248-126-01-text",
        "SNP-cursor_export_unknown_5248-142-01-text",
        "SNP-cursor_export_unknown_5248-158-01-text",
        "SNP-cursor_export_unknown_5248-174-01-text",
        "SNP-cursor_export_unknown_5248-190-01-text",
        "SNP-cursor_export_unknown_5248-218-01-text",
        "SNP-cursor_export_unknown_5248-234-01-text",
        "SNP-cursor_export_unknown_5248-250-01-text",
        "SNP-cursor_export_unknown_5248-266-01-text",
        "SNP-cursor_export_unknown_5248-282-01-text",
        "SNP-cursor_export_unknown_5248-298-01-text",
        "SNP-cursor_export_unknown_5248-314-01-text",
        "SNP-cursor_export_unknown_5248-330-01-text"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-028-00-text",
      "lang": "text",
      "code": "\n",
      "source": {
        "turn_index": 28,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          29
        ]
      },
      "snippet_hash": "01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b",
      "aliases": [
        "SNP-cursor_export_unknown_5248-058-08-text",
        "SNP-cursor_export_unknown_5248-060-08-text",
        "SNP-cursor_export_unknown_5248-062-08-text",
        "SNP-cursor_export_unknown_5248-064-08-text",
        "SNP-cursor_export_unknown_5248-066-10-text",
        "SNP-cursor_export_unknown_5248-082-00-text",
        "SNP-cursor_export_unknown_5248-082-01-text",
        "SNP-cursor_export_unknown_5248-098-00-text",
        "SNP-cursor_export_unknown_5248-098-01-text",
        "SNP-cursor_export_unknown_5248-114-00-text",
        "SNP-cursor_export_unknown_5248-146-00-text",
        "SNP-cursor_export_unknown_5248-146-01-text",
        "SNP-cursor_export_unknown_5248-146-02-text",
        "SNP-cursor_export_unknown_5248-162-00-text",
        "SNP-cursor_export_unknown_5248-178-00-text",
        "SNP-cursor_export_unknown_5248-202-02-text",
        "SNP-cursor_export_unknown_5248-222-00-text",
        "SNP-cursor_export_unknown_5248-238-00-text",
        "SNP-cursor_export_unknown_5248-254-00-text",
        "SNP-cursor_export_unknown_5248-270-00-text",
        "SNP-cursor_export_unknown_5248-286-00-text",
        "SNP-cursor_export_unknown_5248-302-00-text",
        "SNP-cursor_export_unknown_5248-302-07-text",
        "SNP-cursor_export_unknown_5248-302-15-text"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-00-python",
      "lang": "python",
      "code": "\"\"\"\në°ì´í„° ëª¨ë¸ ì •ì˜\n\nì´ ëª¨ë“ˆì€ íŒŒì„œ, ë¹Œë”, APIì—ì„œ ì‚¬ìš©í•˜ëŠ” Pydantic ëª¨ë¸ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\"\"\"\n\nfrom pydantic import BaseModel\nfrom typing import Optional, List\n\n\nclass SessionMeta(BaseModel):\n  \"\"\"ì„¸ì…˜ ë©”íƒ€ë°ì´í„°\"\"\"\n\n  session_id: str\n  exported_at: Optional[str] = None\n  cursor_version: Optional[str] = None\n  phase: Optional[int] = None\n  subphase: Optional[int] = None\n  source_doc: str\n\n\nclass CodeBlock(BaseModel):\n  \"\"\"ì½”ë“œ ë¸”ë¡\"\"\"\n\n  block_index: int\n  lang: str  # ì–¸ì–´ (ë¹ˆ ë¬¸ìì—´ ê°€ëŠ¥)\n  code: str  # ì½”ë“œ ë‚´ìš©\n\n\nclass Turn(BaseModel):\n  \"\"\"Turn ë¸”ë¡ (User/Cursor ëŒ€í™” ë‹¨ìœ„)\"\"\"\n\n  turn_index: int\n  speaker: str  # \"User\", \"Cursor\", \"Unknown\"\n  body: str  # ë³¸ë¬¸ í…ìŠ¤íŠ¸ (ì½”ë“œ ë¸”ë¡ ì œì™¸)\n  code_blocks: List[CodeBlock] = []  # ì½”ë“œ ë¸”ë¡ ë¦¬ìŠ¤íŠ¸\n  path_candidates: List[str] = []  # íŒŒì¼/ê²½ë¡œ í›„ë³´ ë¦¬ìŠ¤íŠ¸\n\n",
      "source": {
        "turn_index": 48,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "bc88ab8345303ad9059abf8eb8c90f3e0103e2a1cc633d2112d8de3a8b44721c",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-01-python",
      "lang": "python",
      "code": "\"\"\"\ní…ìŠ¤íŠ¸ ì •ê·œí™” ëª¨ë“ˆ\n\në§ˆí¬ë‹¤ìš´ íŒŒì¼ì˜ í…ìŠ¤íŠ¸ë¥¼ ì •ê·œí™”í•˜ì—¬ íŒŒì‹±í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.\n\"\"\"\n\nimport re\n\n\ndef normalize_text(text: str, preserve_code_blocks: bool = True) -> str:\n  \"\"\"\n  í…ìŠ¤íŠ¸ ì •ê·œí™”\n\n  Args:\n  text: ì›ë³¸ í…ìŠ¤íŠ¸\n  preserve_code_blocks: ì½”ë“œ ë¸”ë¡ ë‚´ë¶€ ë³´ì¡´ ì—¬ë¶€\n\n  Returns:\n  ì •ê·œí™”ëœ í…ìŠ¤íŠ¸\n  \"\"\"\n  # 1. ì¤„ë°”ê¿ˆ í†µì¼\n  text = text.replace(\"\\r\\n\", \"\\n\").replace(\"\\r\", \"\\n\")\n\n  # 2. BOM ì œê±°\n  text = text.lstrip(\"\\ufeff\")\n\n  if preserve_code_blocks:\n  # ì½”ë“œ ë¸”ë¡ ë¶„ë¦¬\n  code_blocks = []\n  pattern = r\"",
      "source": {
        "turn_index": 48,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "b40367f95b0b3f21584e6ab3ccbb7618f677a2fdb9bb6f3d8515b751abd645b7",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-02-text",
      "lang": "text",
      "code": "\nì„¸ì…˜ ë©”íƒ€ ì¶”ì¶œ ëª¨ë“ˆ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 48,
        "block_index": 2
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "3c637eae3d0cecc353c03011bddc9703b7a7190333b6c4dcd08df0647a118d02",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-03-text",
      "lang": "text",
      "code": "\nì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ì¶œ ëª¨ë“ˆ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 48,
        "block_index": 3
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "c1c5ce1460cb835af5fbae700f73d2d76f005287d39e4029b76fb5b6c4e9d424",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-04-text",
      "lang": "text",
      "code": "\nArtifact ì¶”ì¶œ ëª¨ë“ˆ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 48,
        "block_index": 4
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "1825ecb67553a4962047d3ffff0b4682ea5914c78ca9cc501705c15b15b12c0b",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-05-text",
      "lang": "text",
      "code": "\nTurn ë¸”ë¡ íŒŒì‹± ëª¨ë“ˆ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 48,
        "block_index": 5
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "ebc0f3154a6d7ca9eb1d69f8c27cdbb33b45e877c420b7cefa559296a0a4c519",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-06-text",
      "lang": "text",
      "code": "\níŒŒì„œ í†µí•© ëª¨ë“ˆ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 48,
        "block_index": 6
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "ff2defc413158756a543f51ed62541c14b69aabdf9e60c4471c59555c66686e9",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-048-07-text",
      "lang": "text",
      "code": "\níŒŒì„œ êµ¬í˜„ ì™„ë£Œ. ê¸°ë³¸ ë™ì‘ í™•ì¸ì„ ìœ„í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 48,
        "block_index": 7
      },
      "links": {
        "event_seq": [
          49
        ]
      },
      "snippet_hash": "0c6ba98ccb5236fa797063b3256542bef9881f8ef1544b4d10659d7c64e4cf75",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-050-00-python",
      "lang": "python",
      "code": "\"\"\"\níŒŒì„œ E2E í…ŒìŠ¤íŠ¸\n\nì‹¤ì œ ì…ë ¥ ë°ì´í„°ë¡œ ì „ì²´ íŒŒì„œ íŒŒì´í”„ë¼ì¸ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.\n\"\"\"\n\nimport pytest\nimport json\nfrom pathlib import Path\nfrom backend.parser import parse_markdown\nfrom backend.parser.turns import check_parse_health\n\n\n# ì‹¤ì œ ì…ë ¥ ë°ì´í„° ê²½ë¡œ\nINPUT_FILE = Path(__file__).parent.parent / \"docs\" / \"cursor_phase_6_3.md\"\nREPORT_DIR = Path(__file__).parent / \"reports\"\nREPORT_FILE = REPORT_DIR / \"parser_e2e_report.json\"\n\n\ndef test_parser_e2e():\n  \"\"\"\n  ì‹¤ì œ ì…ë ¥ ë°ì´í„°ë¡œ ì „ì²´ íŒŒì„œ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸\n  \"\"\"\n  # 1. ì‹¤ì œ ì…ë ¥ ë°ì´í„° ë¡œë“œ\n  if not INPUT_FILE.exists():\n  pytest.skip(f\"Input file not found: {INPUT_FILE}\")\n\n  text = INPUT_FILE.read_text(encoding=\"utf-8\")\n\n  # 2. íŒŒì‹± ì‹¤í–‰\n  result = parse_markdown(text, source_doc=str(INPUT_FILE))\n\n  # 3. ì •í•©ì„± ê²€ì¦\n  assert result[\"session_meta\"] is not None, \"session_metaê°€ ì—†ìŒ\"\n  assert result[\"session_meta\"].session_id is not None, \"session_idê°€ ì—†ìŒ\"\n  assert len(result[\"turns\"]) > 0, \"turnsê°€ ë¹„ì–´ìˆìŒ\"\n\n  # Session Meta ì¶”ì¶œ ì •í™•ì„±\n  session_meta = result[\"session_meta\"]\n  assert session_meta.source_doc == str(INPUT_FILE), \"source_docê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŒ\"\n  # phase, subphase, exported_at, cursor_versionì€ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆìŒ\n\n  # Turn ë¸”ë¡ ë¶„í•  ì •í™•ì„±\n  user_turns = [t for t in result[\"turns\"] if t.speaker == \"User\"]\n  cursor_turns = [t for t in result[\"turns\"] if t.speaker == \"Cursor\"]\n  unknown_turns = [t for t in result[\"turns\"] if t.speaker == \"Unknown\"]\n\n  assert len(user_turns) > 0, \"User turnsê°€ ì—†ìŒ\"\n  assert len(cursor_turns) > 0, \"Cursor turnsê°€ ì—†ìŒ\"\n\n  # ì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ì¶œ ì •í™•ì„±\n  all_code_blocks = result[\"code_blocks\"]\n  # ì½”ë“œ ë¸”ë¡ì´ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆìŒ\n\n  # Artifact ì¶”ì¶œ ì •í™•ì„±\n  all_artifacts = result[\"artifacts\"]\n  # Artifactê°€ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆìŒ\n\n  # 4. íƒ€ë‹¹ì„± ê²€ì¦\n  # íŒŒì‹± ì‹¤íŒ¨ìœ¨ ê²€ì¦\n  health = check_parse_health(result[\"turns\"])\n  unknown_ratio = health[\"unknown_ratio\"]\n\n  assert unknown_ratio < 0.2, f\"íŒŒì‹± ì‹¤íŒ¨ìœ¨ì´ ë„ˆë¬´ ë†’ìŒ: {unknown_ratio:.1%}\"\n\n  # 5. ê²°ê³¼ ë¶„ì„ ë° ìë™ ë³´ê³ \n  report = {\n  \"test_name\": \"parser_e2e\",\n  \"input_file\": str(INPUT_FILE),\n  \"results\": {\n  \"total_turns\": len(result[\"turns\"]),\n  \"user_turns\": len(user_turns),\n  \"cursor_turns\": len(cursor_turns),\n  \"unknown_turns\": len(unknown_turns),\n  \"unknown_ratio\": unknown_ratio,\n  \"code_blocks\": len(all_code_blocks),\n  \"artifacts\": len(all_artifacts),\n  \"session_meta\": {\n  \"session_id\": session_meta.session_id,\n  \"exported_at\": session_meta.exported_at,\n  \"cursor_version\": session_meta.cursor_version,\n  \"phase\": session_meta.phase,\n  \"subphase\": session_meta.subphase,\n  },\n  },\n  \"warnings\": health.get(\"warnings\", []),\n  \"errors\": [],\n  \"status\": \"PASS\" if unknown_ratio < 0.2 else \"WARNING\",\n  }\n\n  # ë¦¬í¬íŠ¸ ì¶œë ¥\n  print(\"\\n\" + \"=\" * 50)\n  print(\"Parser E2E Test Report\")\n  print(\"=\" * 50)\n  print(json.dumps(report, indent=2, ensure_ascii=False))\n  print(\"=\" * 50)\n\n  # ë¦¬í¬íŠ¸ íŒŒì¼ ì €ì¥\n  REPORT_DIR.mkdir(exist_ok=True)\n  REPORT_FILE.write_text(\n  json.dumps(report, indent=2, ensure_ascii=False),\n  encoding=\"utf-8\",\n  )\n\n  # ìµœì¢… ê²€ì¦\n  assert unknown_ratio < 0.2, f\"Unknown speaker ë¹„ìœ¨ì´ ë„ˆë¬´ ë†’ìŒ: {unknown_ratio:.1%}\"\n\n",
      "source": {
        "turn_index": 50,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          51
        ]
      },
      "snippet_hash": "bcc2717bea05447cee6351a4d47f837bc112ff88f1894949385a46b43f9f132d",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-052-00-powershell",
      "lang": "powershell",
      "code": "poetry run pytest tests/test_parser_e2e.py -v -s\n",
      "source": {
        "turn_index": 52,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          53
        ]
      },
      "snippet_hash": "f8abd57274d9ba527cd6d4b187142c9acf7d451b421775cf71a3977653c62049",
      "aliases": [
        "SNP-cursor_export_unknown_5248-052-01-powershell"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-054-00-python",
      "lang": "python",
      "code": "# conftest_e2e.pyì— ì¶”ê°€\nimport logging\nfrom pathlib import Path\nfrom datetime import datetime\n\n@pytest.fixture(autouse=True)\ndef setup_test_logging(request):\n  \"\"\"ëª¨ë“  E2E í…ŒìŠ¤íŠ¸ì— ìë™ìœ¼ë¡œ ë¡œê¹… ì„¤ì •\"\"\"\n  log_dir = Path(__file__).parent / \"logs\"\n  log_dir.mkdir(exist_ok=True)\n\n  timestamp = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n  test_name = request.node.name\n  log_file = log_dir / f\"{test_name}_{timestamp}.log\"\n\n  logging.basicConfig(\n  level=logging.DEBUG,\n  format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n  handlers=[\n  logging.FileHandler(log_file, encoding='utf-8'),\n  logging.StreamHandler()\n  ]\n  )\n\n  yield\n\n  # í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ ë¡œê·¸ íŒŒì¼ ê²½ë¡œ ì¶œë ¥\n  print(f\"\\n[LOG] Test log saved to: {log_file}\")\n",
      "source": {
        "turn_index": 54,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          55
        ]
      },
      "snippet_hash": "883757a6bba7d686a174ea3d02901164d951fc282187ef0fddd457c764959e9e",
      "aliases": [
        "SNP-cursor_export_unknown_5248-054-02-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-054-01-python",
      "lang": "python",
      "code": "# test_parser_e2e.pyì— ì¶”ê°€\nfrom datetime import datetime\n\ndef test_parser_e2e():\n  # ... í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ...\n\n  # ìƒì„¸ ê²°ê³¼ ì €ì¥\n  results_dir = Path(__file__).parent / \"results\"\n  results_dir.mkdir(exist_ok=True)\n\n  timestamp = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n  results_file = results_dir / f\"parser_e2e_{timestamp}.json\"\n\n  # Pydantic ëª¨ë¸ì„ dictë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥\n  detailed_results = {\n  \"session_meta\": result[\"session_meta\"].dict(),\n  \"turns\": [turn.dict() for turn in result[\"turns\"]],\n  \"code_blocks\": [block.dict() for block in result[\"code_blocks\"]],\n  \"artifacts\": result[\"artifacts\"],\n  \"test_metadata\": {\n  \"timestamp\": timestamp,\n  \"input_file\": str(INPUT_FILE),\n  }\n  }\n\n  results_file.write_text(\n  json.dumps(detailed_results, indent=2, ensure_ascii=False),\n  encoding=\"utf-8\"\n  )\n\n  print(f\"\\n[RESULTS] Detailed results saved to: {results_file}\")\n",
      "source": {
        "turn_index": 54,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          55
        ]
      },
      "snippet_hash": "21871d29463a440eb05cad89f11d5421f6e6d52bd8e3b6572fe81b90943f45bd",
      "aliases": [
        "SNP-cursor_export_unknown_5248-054-03-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-00-text",
      "lang": "text",
      "code": "tests/\nâ”œâ”€â”€ fixtures/\nâ”‚   â””â”€â”€ cursor_phase_6_3.md    # ì‹¤ì œ ì…ë ¥ ë°ì´í„°\nâ”œâ”€â”€ golden/\nâ”‚   â”œâ”€â”€ parser_expected.json\nâ”‚   â”œâ”€â”€ timeline_expected.json\nâ”‚   â””â”€â”€ issues_expected.json\nâ”œâ”€â”€ conftest_e2e.py             # E2E í…ŒìŠ¤íŠ¸ fixture\nâ”œâ”€â”€ test_parser_e2e.py\nâ”œâ”€â”€ test_event_normalizer_e2e.py\nâ”œâ”€â”€ test_timeline_issues_e2e.py\nâ”œâ”€â”€ test_snippet_e2e.py\nâ””â”€â”€ test_api_e2e.py\n",
      "source": {
        "turn_index": 58,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "83bea5519419be2c4445643431ced1b881d0d0a60ef33ac36c02017b95297167",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-01-python",
      "lang": "python",
      "code": "# tests/conftest_e2e.py\nimport pytest\nimport subprocess\nimport time\nimport httpx\nfrom pathlib import Path\n\n@pytest.fixture(scope=\"session\")\ndef test_server():\n    \"\"\"\n    ì‹¤ì œ uvicorn ì„œë²„ ì‹¤í–‰ fixture\n    \"\"\"\n    # ì„œë²„ ì‹œì‘\n    process = subprocess.Popen(\n        [\"poetry\", \"run\", \"uvicorn\", \"backend.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"],\n        cwd=Path(__file__).parent.parent,\n        stdout=subprocess.PIPE,\n        stderr=subprocess.PIPE\n    )\n    \n    # ì„œë²„ ì¤€ë¹„ ëŒ€ê¸°\n    max_retries = 30\n    for _ in range(max_retries):\n        try:\n            response = httpx.get(\"http://localhost:8000/health\", timeout=1.0)\n            if response.status_code == 200:\n                break\n        except:\n            time.sleep(0.5)\n    else:\n        process.terminate()\n        raise RuntimeError(\"Server failed to start\")\n    \n    yield process\n    \n    # ì„œë²„ ì¢…ë£Œ\n    process.terminate()\n    process.wait()\n\n@pytest.fixture\ndef client(test_server):\n    \"\"\"\n    httpx.Client fixture (ì‹¤ì œ HTTP ìš”ì²­)\n    \"\"\"\n    return httpx.Client(base_url=\"http://localhost:8000\", timeout=30.0)\n",
      "source": {
        "turn_index": 58,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "5eb248979d97ea44e8b75b33c11cdf4a0a10fd1d1e6fe974b9ec4801d22ce9ea",
      "aliases": [
        "SNP-cursor_export_unknown_5248-060-01-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-02-python",
      "lang": "python",
      "code": "# tests/test_parser_e2e.py\nimport pytest\nfrom pathlib import Path\nfrom backend.parser import parse_markdown\n\ndef test_parser_e2e():\n    \"\"\"\n    ì‹¤ì œ ì…ë ¥ ë°ì´í„°ë¡œ ì „ì²´ íŒŒì„œ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸\n    \"\"\"\n    # 1. ì‹¤ì œ ì…ë ¥ ë°ì´í„° ë¡œë“œ\n    input_file = Path(__file__).parent.parent / \"docs\" / \"cursor_phase_6_3.md\"\n    text = input_file.read_text(encoding='utf-8')\n    \n    # 2. íŒŒì‹± ì‹¤í–‰\n    result = parse_markdown(text, source_doc=str(input_file))\n    \n    # 3. ì •í•©ì„± ê²€ì¦\n    assert result[\"session_meta\"] is not None\n    assert result[\"session_meta\"].session_id is not None\n    assert len(result[\"turns\"]) > 0\n    \n    # Session Meta ì¶”ì¶œ ì •í™•ì„±\n    assert result[\"session_meta\"].phase is not None or result[\"session_meta\"].phase is None\n    # (phaseê°€ ì—†ì„ ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ Noneë„ í—ˆìš©)\n    \n    # Turn ë¸”ë¡ ë¶„í•  ì •í™•ì„±\n    user_turns = [t for t in result[\"turns\"] if t.speaker == \"User\"]\n    cursor_turns = [t for t in result[\"turns\"] if t.speaker == \"Cursor\"]\n    unknown_turns = [t for t in result[\"turns\"] if t.speaker == \"Unknown\"]\n    \n    assert len(user_turns) > 0, \"User turns should exist\"\n    assert len(cursor_turns) > 0, \"Cursor turns should exist\"\n    \n    # Unknown ë¹„ìœ¨ ê²€ì¦\n    unknown_ratio = len(unknown_turns) / len(result[\"turns\"])\n    assert unknown_ratio < 0.2, f\"Unknown speaker ratio too high: {unknown_ratio:.1%}\"\n    \n    # ì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ì¶œ ì •í™•ì„±\n    all_code_blocks = []\n    for turn in result[\"turns\"]:\n        all_code_blocks.extend(turn.code_blocks)\n    \n    assert len(all_code_blocks) > 0, \"Code blocks should be extracted\"\n    \n    # 4. íƒ€ë‹¹ì„± ê²€ì¦\n    # íŒŒì‹± ì‹¤íŒ¨ìœ¨ ê²€ì¦\n    assert unknown_ratio < 0.2, \"Parse failure rate too high\"\n    \n    # 5. ê²°ê³¼ ë¶„ì„ ë° í”¼ë“œë°±\n    print(f\"\\n[Parser E2E Test Results]\")\n    print(f\"Total turns: {len(result['turns'])}\")\n    print(f\"User turns: {len(user_turns)}\")\n    print(f\"Cursor turns: {len(cursor_turns)}\")\n    print(f\"Unknown turns: {len(unknown_turns)} ({unknown_ratio:.1%})\")\n    print(f\"Code blocks: {len(all_code_blocks)}\")\n    print(f\"Artifacts: {len(result.get('artifacts', []))}\")\n",
      "source": {
        "turn_index": 58,
        "block_index": 2
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "ccbf0f3daf3633476ee3387329c19952d6d48dd1ddfbdb9aa0bb0238e088e4e8",
      "aliases": [
        "SNP-cursor_export_unknown_5248-060-02-python",
        "SNP-cursor_export_unknown_5248-062-02-python",
        "SNP-cursor_export_unknown_5248-064-02-python",
        "SNP-cursor_export_unknown_5248-066-02-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-03-python",
      "lang": "python",
      "code": "# tests/test_api_e2e.py\nimport pytest\nfrom pathlib import Path\nimport httpx\n\ndef test_parse_endpoint_e2e(client: httpx.Client):\n    \"\"\"\n    POST /api/parse ì—”ë“œí¬ì¸íŠ¸ E2E í…ŒìŠ¤íŠ¸\n    \"\"\"\n    # ì‹¤ì œ ì…ë ¥ íŒŒì¼\n    input_file = Path(__file__).parent.parent / \"docs\" / \"cursor_phase_6_3.md\"\n    \n    with open(input_file, \"rb\") as f:\n        files = {\"file\": (\"cursor_phase_6_3.md\", f, \"text/markdown\")}\n        response = client.post(\"/api/parse\", files=files)\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    \n    # ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ê²€ì¦\n    assert \"session_meta\" in data\n    assert \"turns\" in data\n    assert \"events\" in data\n    \n    # íŒŒì‹± ê²°ê³¼ ì •í™•ì„±\n    assert data[\"session_meta\"][\"session_id\"] is not None\n    assert len(data[\"turns\"]) > 0\n\ndef test_timeline_endpoint_e2e(client: httpx.Client):\n    \"\"\"\n    POST /api/timeline ì—”ë“œí¬ì¸íŠ¸ E2E í…ŒìŠ¤íŠ¸\n    \"\"\"\n    # 1. ë¨¼ì € íŒŒì‹±\n    input_file = Path(__file__).parent.parent / \"docs\" / \"cursor_phase_6_3.md\"\n    \n    with open(input_file, \"rb\") as f:\n        files = {\"file\": (\"cursor_phase_6_3.md\", f, \"text/markdown\")}\n        parse_response = client.post(\"/api/parse\", files=files)\n    \n    parse_data = parse_response.json()\n    \n    # 2. Timeline ìƒì„±\n    timeline_response = client.post(\n        \"/api/timeline\",\n        json={\n            \"session_id\": parse_data[\"session_meta\"][\"session_id\"],\n            \"events\": parse_data[\"events\"],\n            \"session_meta\": parse_data[\"session_meta\"]\n        }\n    )\n    \n    assert timeline_response.status_code == 200\n    \n    timeline_data = timeline_response.json()\n    \n    # Timeline JSON êµ¬ì¡° ê²€ì¦\n    assert \"session_meta\" in timeline_data\n    assert \"timeline\" in timeline_data\n    assert len(timeline_data[\"timeline\"]) > 0\n    \n    # Artifact/Snippet ì—°ê²° í™•ì¸\n    for event in timeline_data[\"timeline\"]:\n        assert \"seq\" in event\n        assert \"type\" in event\n        assert \"summary\" in event\n",
      "source": {
        "turn_index": 58,
        "block_index": 3
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "3b6ea1833c4b36467c9ff6152138f154c53ed63d9dec80f9d08966ced4fc35d1",
      "aliases": [
        "SNP-cursor_export_unknown_5248-060-03-python",
        "SNP-cursor_export_unknown_5248-062-03-python",
        "SNP-cursor_export_unknown_5248-064-03-python",
        "SNP-cursor_export_unknown_5248-066-03-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-04-python",
      "lang": "python",
      "code": "# tests/test_parser_e2e.py\ndef test_parser_e2e_with_report():\n    \"\"\"\n    í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ìƒì„¸ ë³´ê³  í¬í•¨\n    \"\"\"\n    # ... í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ...\n    \n    # ê²°ê³¼ ë¶„ì„\n    report = {\n        \"test_name\": \"parser_e2e\",\n        \"input_file\": str(input_file),\n        \"results\": {\n            \"total_turns\": len(result[\"turns\"]),\n            \"user_turns\": len(user_turns),\n            \"cursor_turns\": len(cursor_turns),\n            \"unknown_ratio\": unknown_ratio,\n            \"code_blocks\": len(all_code_blocks),\n            \"artifacts\": len(result.get(\"artifacts\", []))\n        },\n        \"warnings\": [],\n        \"errors\": []\n    }\n    \n    if unknown_ratio > 0.2:\n        report[\"warnings\"].append(\n            f\"High Unknown speaker ratio: {unknown_ratio:.1%}\"\n        )\n    \n    # ë¦¬í¬íŠ¸ ì¶œë ¥\n    import json\n    print(\"\\n\" + \"=\"*50)\n    print(\"E2E Test Report\")\n    print(\"=\"*50)\n    print(json.dumps(report, indent=2, ensure_ascii=False))\n    print(\"=\"*50)\n    \n    # ë¦¬í¬íŠ¸ íŒŒì¼ ì €ì¥\n    report_file = Path(__file__).parent / \"reports\" / \"parser_e2e_report.json\"\n    report_file.parent.mkdir(exist_ok=True)\n    report_file.write_text(\n        json.dumps(report, indent=2, ensure_ascii=False),\n        encoding='utf-8'\n    )\n",
      "source": {
        "turn_index": 58,
        "block_index": 4
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "6c1f4e6bb0846f7f10b4575db5effe0d2eab1d175a138083522a53d239477bf9",
      "aliases": [
        "SNP-cursor_export_unknown_5248-060-04-python",
        "SNP-cursor_export_unknown_5248-062-04-python",
        "SNP-cursor_export_unknown_5248-064-04-python",
        "SNP-cursor_export_unknown_5248-066-04-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-05-python",
      "lang": "python",
      "code": "# tests/test_parser_e2e.py\ndef test_parser_golden_comparison():\n    \"\"\"\n    Golden íŒŒì¼ê³¼ ë¹„êµí•˜ì—¬ íšŒê·€ í…ŒìŠ¤íŠ¸\n    \"\"\"\n    # ì‹¤ì œ íŒŒì‹±\n    result = parse_markdown(text, source_doc)\n    \n    # Golden íŒŒì¼ ë¡œë“œ\n    golden_file = Path(__file__).parent / \"golden\" / \"parser_expected.json\"\n    if golden_file.exists():\n        expected = json.loads(golden_file.read_text(encoding='utf-8'))\n        \n        # ë¹„êµ (ì£¼ìš” í•„ë“œë§Œ)\n        assert result[\"session_meta\"].session_id == expected[\"session_meta\"][\"session_id\"]\n        assert len(result[\"turns\"]) == len(expected[\"turns\"])\n    else:\n        # Golden íŒŒì¼ ìƒì„± (ìµœì´ˆ 1íšŒ)\n        golden_file.parent.mkdir(exist_ok=True)\n        golden_file.write_text(\n            json.dumps({\n                \"session_meta\": result[\"session_meta\"].dict(),\n                \"turns_count\": len(result[\"turns\"])\n            }, indent=2, ensure_ascii=False),\n            encoding='utf-8'\n        )\n",
      "source": {
        "turn_index": 58,
        "block_index": 5
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "4f1fbfa84e98ee61511fb84a399f07af73defae0e4f011ee20af0bf4c3987005",
      "aliases": [
        "SNP-cursor_export_unknown_5248-060-05-python",
        "SNP-cursor_export_unknown_5248-062-05-python",
        "SNP-cursor_export_unknown_5248-064-05-python",
        "SNP-cursor_export_unknown_5248-066-05-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-06-python",
      "lang": "python",
      "code": "# í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œ ë¡œê·¸ íŒŒì¼ë¡œ ì €ì¥\nimport logging\nfrom pathlib import Path\n\ndef setup_test_logging():\n    \"\"\"\n    í…ŒìŠ¤íŠ¸ìš© ë¡œê¹… ì„¤ì •\n    \"\"\"\n    log_dir = Path(__file__).parent / \"logs\"\n    log_dir.mkdir(exist_ok=True)\n    \n    log_file = log_dir / f\"test_{time.strftime('%Y%m%d_%H%M%S')}.log\"\n    \n    logging.basicConfig(\n        level=logging.DEBUG,\n        format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n        handlers=[\n            logging.FileHandler(log_file, encoding='utf-8'),\n            logging.StreamHandler()\n        ]\n    )\n    \n    return logging.getLogger(__name__)\n",
      "source": {
        "turn_index": 58,
        "block_index": 6
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "7a2036dd4454e6897f0ac04042e49952510954e8452a38cc6e6d234a115177e6",
      "aliases": [
        "SNP-cursor_export_unknown_5248-060-06-python",
        "SNP-cursor_export_unknown_5248-062-06-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-058-07-python",
      "lang": "python",
      "code": "# tests/test_api_e2e.py\nimport pytest\nfrom pathlib import Path\nimport httpx\nimport json\n\n@pytest.mark.e2e\ndef test_full_pipeline_e2e(client: httpx.Client):\n    \"\"\"\n    ì „ì²´ íŒŒì´í”„ë¼ì¸ E2E í…ŒìŠ¤íŠ¸\n    íŒŒì¼ ì—…ë¡œë“œ â†’ íŒŒì‹± â†’ Timeline ìƒì„± â†’ Issues ìƒì„± â†’ Export\n    \"\"\"\n    input_file = Path(__file__).parent.parent / \"docs\" / \"cursor_phase_6_3.md\"\n    \n    # 1. íŒŒì¼ ì—…ë¡œë“œ ë° íŒŒì‹±\n    with open(input_file, \"rb\") as f:\n        files = {\"file\": (\"cursor_phase_6_3.md\", f, \"text/markdown\")}\n        parse_response = client.post(\"/api/parse\", files=files)\n    \n    assert parse_response.status_code == 200\n    parse_data = parse_response.json()\n    \n    # 2. Timeline ìƒì„±\n    timeline_response = client.post(\n        \"/api/timeline\",\n        json={\n            \"session_id\": parse_data[\"session_meta\"][\"session_id\"],\n            \"events\": parse_data[\"events\"],\n            \"session_meta\": parse_data[\"session_meta\"]\n        }\n    )\n    assert timeline_response.status_code == 200\n    timeline_data = timeline_response.json()\n    \n    # 3. Issues ìƒì„±\n    issues_response = client.post(\n        \"/api/issues\",\n        json={\n            \"session_id\": parse_data[\"session_meta\"][\"session_id\"],\n            \"events\": parse_data[\"events\"],\n            \"turns\": parse_data[\"turns\"]\n        }\n    )\n    assert issues_response.status_code == 200\n    issues_data = issues_response.json()\n    \n    # 4. Export í…ŒìŠ¤íŠ¸\n    export_response = client.post(\n        \"/api/export/all\",\n        json={\n            \"session_id\": parse_data[\"session_meta\"][\"session_id\"]\n        }\n    )\n    assert export_response.status_code == 200\n    \n    # 5. ê²°ê³¼ ê²€ì¦\n    assert len(timeline_data[\"timeline\"]) > 0\n    assert len(issues_data[\"issues\"]) >= 0  # ì´ìŠˆê°€ ì—†ì„ ìˆ˜ë„ ìˆìŒ\n    \n    # 6. ë¦¬í¬íŠ¸ ìƒì„±\n    report = {\n        \"test\": \"full_pipeline_e2e\",\n        \"timeline_events\": len(timeline_data[\"timeline\"]),\n        \"issues\": len(issues_data[\"issues\"]),\n        \"status\": \"PASS\"\n    }\n    \n    print(json.dumps(report, indent=2, ensure_ascii=False))\n",
      "source": {
        "turn_index": 58,
        "block_index": 7
      },
      "links": {
        "event_seq": [
          59
        ]
      },
      "snippet_hash": "1fdae692844935dd5d0d943568912c5882212f047578e58d9c9d1466828c7334",
      "aliases": [
        "SNP-cursor_export_unknown_5248-060-07-python",
        "SNP-cursor_export_unknown_5248-062-07-python",
        "SNP-cursor_export_unknown_5248-064-07-python",
        "SNP-cursor_export_unknown_5248-066-07-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-060-00-text",
      "lang": "text",
      "code": "tests/\nâ”œâ”€â”€ fixtures/\nâ”‚   â””â”€â”€ cursor_phase_6_3.md    # ì‹¤ì œ ì…ë ¥ ë°ì´í„°\nâ”œâ”€â”€ golden/\nâ”‚   â”œâ”€â”€ parser_expected.json\nâ”‚   â”œâ”€â”€ timeline_expected.json\nâ”‚   â””â”€â”€ issues_expected.json\nâ”œâ”€â”€ logs/                        # ë¡œê·¸ íŒŒì¼ (ìë™ ìƒì„±)\nâ”‚   â”œâ”€â”€ test_parser_e2e_20250101_120000.log\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ results/                     # ì‹¤í–‰ ê²°ê³¼ (ìë™ ìƒì„±)\nâ”‚   â”œâ”€â”€ parser_e2e_20250101_120000.json\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ reports/                     # ë¦¬í¬íŠ¸ íŒŒì¼ (ìë™ ìƒì„±)\nâ”‚   â”œâ”€â”€ parser_e2e_report.json\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ conftest_e2e.py             # E2E í…ŒìŠ¤íŠ¸ fixture\nâ”œâ”€â”€ test_parser_e2e.py\nâ”œâ”€â”€ test_event_normalizer_e2e.py\nâ”œâ”€â”€ test_timeline_issues_e2e.py\nâ”œâ”€â”€ test_snippet_e2e.py\nâ””â”€â”€ test_api_e2e.py\n",
      "source": {
        "turn_index": 60,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          61
        ]
      },
      "snippet_hash": "53352f03a8122cba2e7f142b3d472c4da37e1cf2065ab748ca9f8026a381063d",
      "aliases": [
        "SNP-cursor_export_unknown_5248-062-00-text",
        "SNP-cursor_export_unknown_5248-064-00-text",
        "SNP-cursor_export_unknown_5248-066-00-text"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-062-01-python",
      "lang": "python",
      "code": "# tests/conftest_e2e.py\nimport pytest\nimport subprocess\nimport time\nimport httpx\nimport logging\nfrom pathlib import Path\nfrom datetime import datetime\n\n# Phase 6+ ì „ìš©: ì‹¤ì œ ì„œë²„ ì‹¤í–‰ fixture\n@pytest.fixture(scope=\"session\")\ndef test_server():\n    \"\"\"\n    ì‹¤ì œ uvicorn ì„œë²„ ì‹¤í–‰ fixture (Phase 6+ API í…ŒìŠ¤íŠ¸ìš©)\n    \"\"\"\n    # ì„œë²„ ì‹œì‘\n    process = subprocess.Popen(\n        [\"poetry\", \"run\", \"uvicorn\", \"backend.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"],\n        cwd=Path(__file__).parent.parent,\n        stdout=subprocess.PIPE,\n        stderr=subprocess.PIPE\n    )\n    \n    # ì„œë²„ ì¤€ë¹„ ëŒ€ê¸°\n    max_retries = 30\n    for _ in range(max_retries):\n        try:\n            response = httpx.get(\"http://localhost:8000/health\", timeout=1.0)\n            if response.status_code == 200:\n                break\n        except:\n            time.sleep(0.5)\n    else:\n        process.terminate()\n        raise RuntimeError(\"Server failed to start\")\n    \n    yield process\n    \n    # ì„œë²„ ì¢…ë£Œ\n    process.terminate()\n    process.wait()\n\n@pytest.fixture\ndef client(test_server):\n    \"\"\"\n    httpx.Client fixture (ì‹¤ì œ HTTP ìš”ì²­, Phase 6+ ì „ìš©)\n    \"\"\"\n    return httpx.Client(base_url=\"http://localhost:8000\", timeout=30.0)\n\n# ëª¨ë“  E2E í…ŒìŠ¤íŠ¸ì— ìë™ ì ìš©: ë¡œê·¸ íŒŒì¼ ì €ì¥\n@pytest.fixture(autouse=True)\ndef setup_test_logging(request):\n    \"\"\"\n    ëª¨ë“  E2E í…ŒìŠ¤íŠ¸ì— ìë™ìœ¼ë¡œ ë¡œê¹… ì„¤ì • (í•„ìˆ˜)\n    \"\"\"\n    log_dir = Path(__file__).parent / \"logs\"\n    log_dir.mkdir(exist_ok=True)\n    \n    timestamp = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n    test_name = request.node.name\n    log_file = log_dir / f\"{test_name}_{timestamp}.log\"\n    \n    # ê¸°ì¡´ í•¸ë“¤ëŸ¬ ì œê±° (ì¤‘ë³µ ë°©ì§€)\n    for handler in logging.root.handlers[:]:\n        logging.root.removeHandler(handler)\n    \n    logging.basicConfig(\n        level=logging.DEBUG,\n        format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n        handlers=[\n            logging.FileHandler(log_file, encoding='utf-8'),\n            logging.StreamHandler()\n        ],\n        force=True\n    )\n    \n    logger = logging.getLogger(__name__)\n    logger.info(f\"Test started: {test_name}\")\n    logger.info(f\"Log file: {log_file}\")\n    \n    yield\n    \n    # í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ ë¡œê·¸ íŒŒì¼ ê²½ë¡œ ì¶œë ¥\n    logger.info(f\"Test completed: {test_name}\")\n    print(f\"\\n[LOG] Test log saved to: {log_file}\")\n",
      "source": {
        "turn_index": 62,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          63
        ]
      },
      "snippet_hash": "51779a9870771d8cf47fd3be8a5e327cd5d4545d89b43438411e924598eba6ce",
      "aliases": [
        "SNP-cursor_export_unknown_5248-064-01-python",
        "SNP-cursor_export_unknown_5248-066-01-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-064-06-python",
      "lang": "python",
      "code": "# tests/test_parser_e2e.py\nfrom datetime import datetime\nfrom pathlib import Path\nimport json\n\ndef test_parser_e2e():\n    # ... í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ...\n    \n    # ìƒì„¸ ê²°ê³¼ ì €ì¥ (í•„ìˆ˜)\n    results_dir = Path(__file__).parent / \"results\"\n    results_dir.mkdir(exist_ok=True)\n    \n    timestamp = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n    results_file = results_dir / f\"parser_e2e_{timestamp}.json\"\n    \n    # Pydantic ëª¨ë¸ì„ dictë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥\n    detailed_results = {\n        \"session_meta\": result[\"session_meta\"].dict(),\n        \"turns\": [turn.dict() for turn in result[\"turns\"]],\n        \"code_blocks\": [block.dict() for block in result[\"code_blocks\"]],\n        \"artifacts\": result[\"artifacts\"],\n        \"test_metadata\": {\n            \"timestamp\": timestamp,\n            \"input_file\": str(INPUT_FILE),\n            \"test_name\": \"parser_e2e\",\n        }\n    }\n    \n    results_file.write_text(\n        json.dumps(detailed_results, indent=2, ensure_ascii=False),\n        encoding=\"utf-8\"\n    )\n    \n    print(f\"\\n[RESULTS] Detailed results saved to: {results_file}\")\n",
      "source": {
        "turn_index": 64,
        "block_index": 6
      },
      "links": {
        "event_seq": [
          65
        ]
      },
      "snippet_hash": "8e04a5e5b1c490ff4cc772b702031b7c9fb4c3d0084fed42dfb7741225f2b783",
      "aliases": [
        "SNP-cursor_export_unknown_5248-066-06-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-066-08-text",
      "lang": "text",
      "code": "\n`conftest_e2e.py` ìƒì„± ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 66,
        "block_index": 8
      },
      "links": {
        "event_seq": [
          67
        ]
      },
      "snippet_hash": "5ae931b7c40fb32d631ab6de59f82f9ea9814efdc5c6203d27d49974fb412f07",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-066-09-text",
      "lang": "text",
      "code": "\n`test_parser_e2e.py`ì— ìƒì„¸ ê²°ê³¼ ì €ì¥ ê¸°ëŠ¥ ì¶”ê°€ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 66,
        "block_index": 9
      },
      "links": {
        "event_seq": [
          67
        ]
      },
      "snippet_hash": "44885f882ba1aa5b0e98251643fa09a547b7be05bc4d29c4c448501f245a53a9",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-066-11-text",
      "lang": "text",
      "code": "\nTODOs.md ì—…ë°ì´íŠ¸ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 66,
        "block_index": 11
      },
      "links": {
        "event_seq": [
          67
        ]
      },
      "snippet_hash": "b0be3fe8fcdc1c9b54ea11f3b04356c1160cd52414bc8ec2d4ce774d657f5beb",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-130-00-text",
      "lang": "text",
      "code": "\nPhase 3ê³¼ Phase 5ì˜ E2E í…ŒìŠ¤íŠ¸ ì„¹ì…˜ ì—…ë°ì´íŠ¸ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 130,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          131
        ]
      },
      "snippet_hash": "91c5522e57796d99e51df1b2eec2c6fd574130a8305dbd9f58ed0a58ac31e1b2",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-146-03-text",
      "lang": "text",
      "code": "\níŒŒì¼ì„ ë‹¤ì‹œ ì½ì–´ ì •í™•í•œ ìœ„ì¹˜ë¥¼ í™•ì¸ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 146,
        "block_index": 3
      },
      "links": {
        "event_seq": [
          147
        ]
      },
      "snippet_hash": "950e25b8691b10e3f3b6703456e50698f66b799bd515b89a7195bfb20b14eee5",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-196-00-ignore",
      "lang": "ignore",
      "code": "# Environment variables\n.env\n.env.local\n.env*.local\n.env.production\n.env.development\n\n# Python\n__pycache__/\n*.py[cod]\n*$py.class\n*.so\n.Python\nbuild/\ndevelop-eggs/\ndist/\ndownloads/\neggs/\n.eggs/\nlib/\nlib64/\nparts/\nsdist/\nvar/\nwheels/\npip-wheel-metadata/\nshare/python-wheels/\n*.egg-info/\n.installed.cfg\n*.egg\nMANIFEST\n\n# Virtual environments\nvenv/\nenv/\nENV/\n.venv/\nenv.bak/\nvenv.bak/\n\n# Poetry\n# poetry.lock  # í”„ë¡œì íŠ¸ ì •ì±…ì— ë”°ë¼ ì£¼ì„ í•´ì œ\n\n# Testing\n.pytest_cache/\n.coverage\nhtmlcov/\n.tox/\n.nox/\ncoverage.xml\n*.cover\n*.py,cover\n.hypothesis/\ntests/reports/\ntests/logs/\ntests/results/\n\n# IDEs\n.vscode/\n.idea/\n*.swp\n*.swo\n*~\n.DS_Store\n\n# Next.js\n.next/\nout/\nbuild/\ndist/\n.vercel\n\n# Node\nnode_modules/\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n.pnp\n.pnp.js\n.yarn/cache\n.yarn/unplugged\n.yarn/build-state.yml\n.yarn/install-state.gz\n\n# TypeScript\n*.tsbuildinfo\nnext-env.d.ts\n\n# Database\n*.db\n*.sqlite\n*.sqlite3\n*.db-journal\n\n# Cache and temp\ncache/\ntemp/\ntmp/\n*.log\n*.tmp\n\n# OS\nThumbs.db\n.DS_Store\n*.swp\n*.swo\n\n# Project specific\nsnippets/\n*.zip\nreports/\nlogs/\n\n# Mypy\n.mypy_cache/\n.dmypy.json\ndmypy.json\n\n# Ruff\n.ruff_cache/\n\n# Black\n.black\n\n# Jupyter Notebook\n.ipynb_checkpoints\n\n# pyenv\n.python-version\n\n# Celery\ncelerybeat-schedule\ncelerybeat.pid\n\n# SageMath parsed files\n*.sage.py\n\n# Spyder project settings\n.spyderproject\n.spyproject\n\n# Rope project settings\n.ropeproject\n\n# mkdocs documentation\n/site\n\n# mypy\n.mypy_cache/\n.dmypy.json\ndmypy.json\n\n# Pyre type checker\n.pyre/\n\n# pytype static type analyzer\n.pytype/\n\n# Cython debug symbols\ncython_debug/\n\n\n",
      "source": {
        "turn_index": 196,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          197
        ]
      },
      "snippet_hash": "84f3a541b59d33cf7a78c89e60d078d2438f7098b54f2e69df895edb1dde4013",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-196-01-python",
      "lang": "python",
      "code": "\"\"\"\níŒŒì„œ E2E í…ŒìŠ¤íŠ¸\n\nì‹¤ì œ ì…ë ¥ ë°ì´í„°ë¡œ ì „ì²´ íŒŒì„œ íŒŒì´í”„ë¼ì¸ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.\n\"\"\"\n\nimport pytest\nimport json\nfrom pathlib import Path\nfrom datetime import datetime\nfrom backend.parser import parse_markdown\nfrom backend.parser.turns import check_parse_health\n\n\n# ì‹¤ì œ ì…ë ¥ ë°ì´í„° ê²½ë¡œ\nINPUT_FILE = Path(__file__).parent.parent / \"docs\" / \"cursor_phase_6_3.md\"\nREPORT_DIR = Path(__file__).parent / \"reports\"\nRESULTS_DIR = Path(__file__).parent / \"results\"\n\n\ndef test_parser_e2e():\n  \"\"\"\n  ì‹¤ì œ ì…ë ¥ ë°ì´í„°ë¡œ ì „ì²´ íŒŒì„œ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸\n  \"\"\"\n  # 1. ì‹¤ì œ ì…ë ¥ ë°ì´í„° ë¡œë“œ\n  if not INPUT_FILE.exists():\n  pytest.skip(f\"Input file not found: {INPUT_FILE}\")\n\n  text = INPUT_FILE.read_text(encoding=\"utf-8\")\n\n  # 2. íŒŒì‹± ì‹¤í–‰\n  result = parse_markdown(text, source_doc=str(INPUT_FILE))\n\n  # 3. ì •í•©ì„± ê²€ì¦\n  assert result[\"session_meta\"] is not None, \"session_metaê°€ ì—†ìŒ\"\n  assert result[\"session_meta\"].session_id is not None, \"session_idê°€ ì—†ìŒ\"\n  assert len(result[\"turns\"]) > 0, \"turnsê°€ ë¹„ì–´ìˆìŒ\"\n\n  # Session Meta ì¶”ì¶œ ì •í™•ì„±\n  session_meta = result[\"session_meta\"]\n  assert session_meta.source_doc == str(INPUT_FILE), \"source_docê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŒ\"\n  # phase, subphase, exported_at, cursor_versionì€ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆìŒ\n\n  # Turn ë¸”ë¡ ë¶„í•  ì •í™•ì„±\n  user_turns = [t for t in result[\"turns\"] if t.speaker == \"User\"]\n  cursor_turns = [t for t in result[\"turns\"] if t.speaker == \"Cursor\"]\n  unknown_turns = [t for t in result[\"turns\"] if t.speaker == \"Unknown\"]\n\n  assert len(user_turns) > 0, \"User turnsê°€ ì—†ìŒ\"\n  assert len(cursor_turns) > 0, \"Cursor turnsê°€ ì—†ìŒ\"\n\n  # ì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ì¶œ ì •í™•ì„±\n  all_code_blocks = result[\"code_blocks\"]\n  # ì½”ë“œ ë¸”ë¡ì´ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆìŒ\n\n  # Artifact ì¶”ì¶œ ì •í™•ì„±\n  all_artifacts = result[\"artifacts\"]\n  # Artifactê°€ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆìŒ\n\n  # 4. íƒ€ë‹¹ì„± ê²€ì¦\n  # íŒŒì‹± ì‹¤íŒ¨ìœ¨ ê²€ì¦\n  health = check_parse_health(result[\"turns\"])\n  unknown_ratio = health[\"unknown_ratio\"]\n\n  assert unknown_ratio < 0.2, f\"íŒŒì‹± ì‹¤íŒ¨ìœ¨ì´ ë„ˆë¬´ ë†’ìŒ: {unknown_ratio:.1%}\"\n\n  # 5. ê²°ê³¼ ë¶„ì„ ë° ìë™ ë³´ê³ \n  report = {\n  \"test_name\": \"parser_e2e\",\n  \"input_file\": str(INPUT_FILE),\n  \"results\": {\n  \"total_turns\": len(result[\"turns\"]),\n  \"user_turns\": len(user_turns),\n  \"cursor_turns\": len(cursor_turns),\n  \"unknown_turns\": len(unknown_turns),\n  \"unknown_ratio\": unknown_ratio,\n  \"code_blocks\": len(all_code_blocks),\n  \"artifacts\": len(all_artifacts),\n  \"session_meta\": {\n  \"session_id\": session_meta.session_id,\n  \"exported_at\": session_meta.exported_at,\n  \"cursor_version\": session_meta.cursor_version,\n  \"phase\": session_meta.phase,\n  \"subphase\": session_meta.subphase,\n  },\n  },\n  \"warnings\": health.get(\"warnings\", []),\n  \"errors\": [],\n  \"status\": \"PASS\" if unknown_ratio < 0.2 else \"WARNING\",\n  }\n\n  # ë¦¬í¬íŠ¸ ì¶œë ¥\n  print(\"\\n\" + \"=\" * 50)\n  print(\"Parser E2E Test Report\")\n  print(\"=\" * 50)\n  print(json.dumps(report, indent=2, ensure_ascii=False))\n  print(\"=\" * 50)\n\n  # ë¦¬í¬íŠ¸ íŒŒì¼ ì €ì¥\n  REPORT_DIR.mkdir(exist_ok=True)\n  report_file = REPORT_DIR / \"parser_e2e_report.json\"\n  report_file.write_text(\n  json.dumps(report, indent=2, ensure_ascii=False),\n  encoding=\"utf-8\",\n  )\n\n  # ìƒì„¸ ì‹¤í–‰ ê²°ê³¼ ì €ì¥ (í•„ìˆ˜)\n  timestamp = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n  RESULTS_DIR.mkdir(exist_ok=True)\n  results_file = RESULTS_DIR / f\"parser_e2e_{timestamp}.json\"\n\n  detailed_results = {\n  \"session_meta\": session_meta.model_dump(),\n  \"turns\": [turn.model_dump() for turn in result[\"turns\"]],\n  \"code_blocks\": [block.model_dump() for block in result[\"code_blocks\"]],\n  \"artifacts\": result[\"artifacts\"],\n  \"test_metadata\": {\n  \"timestamp\": timestamp,\n  \"input_file\": str(INPUT_FILE),\n  \"test_name\": \"parser_e2e\",\n  },\n  }\n\n  results_file.write_text(\n  json.dumps(detailed_results, indent=2, ensure_ascii=False),\n  encoding=\"utf-8\",\n  )\n\n  print(f\"\\n[RESULTS] Detailed results saved to: {results_file}\")\n\n  # ìµœì¢… ê²€ì¦\n  assert unknown_ratio < 0.2, f\"Unknown speaker ë¹„ìœ¨ì´ ë„ˆë¬´ ë†’ìŒ: {unknown_ratio:.1%}\"\n\n\n",
      "source": {
        "turn_index": 196,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          197
        ]
      },
      "snippet_hash": "4e5d3bfc936bff7482b53a1992131ee96d194b75f13f1ac32f50461300759c2b",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-198-00-python",
      "lang": "python",
      "code": "# backend/core/models.py\nclass CodeBlock(BaseModel):\n  \"\"\"ì½”ë“œ ë¸”ë¡\"\"\"\n\n  turn_index: int  # ì¶”ê°€: ì–´ëŠ Turnì—ì„œ ì¶”ì¶œë˜ì—ˆëŠ”ì§€\n  block_index: int  # Turn ë‚´ì—ì„œì˜ ì¸ë±ìŠ¤\n  lang: str\n  code: str\n",
      "source": {
        "turn_index": 198,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          199
        ]
      },
      "snippet_hash": "9b72390afc0210192e8b8bab48b5a9f1ae19096b9bd7efa5d208deeda9899c6b",
      "aliases": [
        "SNP-cursor_export_unknown_5248-198-03-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-198-01-python",
      "lang": "python",
      "code": "# backend/parser/turns.py\ndef parse_turn(block: str, turn_index: int) -> Turn:\n  # ...\n  code_blocks = extract_code_blocks(block)\n\n  # turn_indexë¥¼ ê° CodeBlockì— ì¶”ê°€\n  for code_block in code_blocks:\n  code_block.turn_index = turn_index  # ë˜ëŠ” CodeBlock ìƒì„± ì‹œ ì „ë‹¬\n",
      "source": {
        "turn_index": 198,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          199
        ]
      },
      "snippet_hash": "8a06a2e26bcbe4f9847d9bdff13cbf337890b311320e40a5dbdbb827e51d2013",
      "aliases": [
        "SNP-cursor_export_unknown_5248-198-04-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-198-02-python",
      "lang": "python",
      "code": "# backend/parser/snippets.py\ndef extract_code_blocks(text: str, turn_index: int) -> List[CodeBlock]:\n  \"\"\"\n  ì½”ë“œ íœìŠ¤ ì¶”ì¶œ\n\n  Args:\n  text: í…ìŠ¤íŠ¸\n  turn_index: Turn ì¸ë±ìŠ¤\n\n  Returns:\n  CodeBlock ë¦¬ìŠ¤íŠ¸\n  \"\"\"\n  blocks = []\n  matches = CODE_FENCE_RE.finditer(text)\n\n  for idx, match in enumerate(matches):\n  lang = (match.group(1) or \"\").lower()\n  code = match.group(2)\n\n  blocks.append(\n  CodeBlock(\n  turn_index=turn_index,  # ì¶”ê°€\n  block_index=idx,\n  lang=lang,\n  code=code,\n  )\n  )\n\n  return blocks\n",
      "source": {
        "turn_index": 198,
        "block_index": 2
      },
      "links": {
        "event_seq": [
          199
        ]
      },
      "snippet_hash": "45b47c066dd6d867502f1950604f0d362ec1e168dcbc7a92f8542ad5f1d8746a",
      "aliases": [
        "SNP-cursor_export_unknown_5248-198-05-python"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-202-00-python",
      "lang": "python",
      "code": "\"\"\"\në°ì´í„° ëª¨ë¸ ì •ì˜\n\nì´ ëª¨ë“ˆì€ íŒŒì„œ, ë¹Œë”, APIì—ì„œ ì‚¬ìš©í•˜ëŠ” Pydantic ëª¨ë¸ì„ ì •ì˜í•©ë‹ˆë‹¤.\n\"\"\"\n\nfrom pydantic import BaseModel\nfrom typing import Optional, List\n\n\nclass SessionMeta(BaseModel):\n  \"\"\"ì„¸ì…˜ ë©”íƒ€ë°ì´í„°\"\"\"\n\n  session_id: str\n  exported_at: Optional[str] = None\n  cursor_version: Optional[str] = None\n  phase: Optional[int] = None\n  subphase: Optional[int] = None\n  source_doc: str\n\n\nclass CodeBlock(BaseModel):\n  \"\"\"ì½”ë“œ ë¸”ë¡\"\"\"\n\n  turn_index: int  # ì–´ëŠ Turnì—ì„œ ì¶”ì¶œë˜ì—ˆëŠ”ì§€\n  block_index: int  # Turn ë‚´ì—ì„œì˜ ì¸ë±ìŠ¤\n  lang: str  # ì–¸ì–´ (ë¹ˆ ë¬¸ìì—´ ê°€ëŠ¥)\n  code: str  # ì½”ë“œ ë‚´ìš©\n\n\nclass Turn(BaseModel):\n  \"\"\"Turn ë¸”ë¡ (User/Cursor ëŒ€í™” ë‹¨ìœ„)\"\"\"\n\n  turn_index: int\n  speaker: str  # \"User\", \"Cursor\", \"Unknown\"\n  body: str  # ë³¸ë¬¸ í…ìŠ¤íŠ¸ (ì½”ë“œ ë¸”ë¡ ì œì™¸)\n  code_blocks: List[CodeBlock] = []  # ì½”ë“œ ë¸”ë¡ ë¦¬ìŠ¤íŠ¸\n  path_candidates: List[str] = []  # íŒŒì¼/ê²½ë¡œ í›„ë³´ ë¦¬ìŠ¤íŠ¸\n\n\n",
      "source": {
        "turn_index": 202,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          203
        ]
      },
      "snippet_hash": "6ffa394b8ffde10d41cd800e22d59a9e0f18dc5b4e744010e99143dda44ff449",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-202-01-python",
      "lang": "python",
      "code": "\"\"\"\nì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ì¶œ ëª¨ë“ˆ\n\në§ˆí¬ë‹¤ìš´ íŒŒì¼ì—ì„œ ì½”ë“œ ë¸”ë¡ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.\n\"\"\"\n\nimport re\nfrom typing import List\nfrom backend.core.models import CodeBlock\n\n\nCODE_FENCE_RE = re.compile(\n  r\"",
      "source": {
        "turn_index": 202,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          203
        ]
      },
      "snippet_hash": "c4c957dcfdfee0baac6055946cd10f6d171be0388b6d32a43632b3098f859e92",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-202-03-text",
      "lang": "text",
      "code": "\ní…ŒìŠ¤íŠ¸ íŒŒì¼ í™•ì¸ ë° ìˆ˜ì • ì¤‘ì…ë‹ˆë‹¤.\n\n\ní…ŒìŠ¤íŠ¸ íŒŒì¼ ìˆ˜ì • ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 202,
        "block_index": 3
      },
      "links": {
        "event_seq": [
          203
        ]
      },
      "snippet_hash": "dda85f9c9fb5f127a65cbc3764945bc6eee3a8f1ad21a192f58b6b6032f4fb2d",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-01-text",
      "lang": "text",
      "code": "\nREADME ì—…ë°ì´íŠ¸ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 302,
        "block_index": 1
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "082b4f1e0bfec0bbbf1e6def51ef33bfb40549962748bce240265943d3e487c5",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-02-text",
      "lang": "text",
      "code": "longtext-analysis/\nâ”œâ”€â”€ backend/                    # FastAPI ë°±ì—”ë“œ\nâ”‚   â”œâ”€â”€ parser/                 # ë§ˆí¬ë‹¤ìš´ íŒŒì„œ ëª¨ë“ˆ\nâ”‚   â”‚   â”œâ”€â”€ normalize.py        # í…ìŠ¤íŠ¸ ì •ê·œí™”\nâ”‚   â”‚   â”œâ”€â”€ meta.py             # ì„¸ì…˜ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ\nâ”‚   â”‚   â”œâ”€â”€ turns.py            # Turn ë¸”ë¡ íŒŒì‹±\nâ”‚   â”‚   â”œâ”€â”€ snippets.py         # ì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ì¶œ\nâ”‚   â”‚   â””â”€â”€ artifacts.py        # Artifact ì¶”ì¶œ\nâ”‚   â”œâ”€â”€ builders/               # Timeline/Issue Cards ë¹Œë”\nâ”‚   â”œâ”€â”€ render/                 # Markdown ë Œë”ëŸ¬\nâ”‚   â”œâ”€â”€ api/routes/             # FastAPI ë¼ìš°í„°\nâ”‚   â”œâ”€â”€ core/                   # ìƒìˆ˜, ìœ í‹¸ë¦¬í‹°, ëª¨ë¸\nâ”‚   â””â”€â”€ main.py                 # FastAPI ì•± ì§„ì…ì \nâ”œâ”€â”€ frontend/                   # Next.js í”„ë¡ íŠ¸ì—”ë“œ\nâ”œâ”€â”€ tests/                      # í…ŒìŠ¤íŠ¸ íŒŒì¼\nâ”‚   â”œâ”€â”€ fixtures/               # í…ŒìŠ¤íŠ¸ ì…ë ¥ ë°ì´í„°\nâ”‚   â”œâ”€â”€ golden/                 # ì˜ˆìƒ ê²°ê³¼ (Golden íŒŒì¼)\nâ”‚   â”œâ”€â”€ logs/                   # E2E í…ŒìŠ¤íŠ¸ ë¡œê·¸\nâ”‚   â”œâ”€â”€ results/                # E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼\nâ”‚   â””â”€â”€ reports/                # í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸\nâ”œâ”€â”€ docs/                       # ë¬¸ì„œ\nâ””â”€â”€ .cursor/rules/              # Cursor Rules\n",
      "source": {
        "turn_index": 302,
        "block_index": 2
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "6cef20880bb769d3a9a137e31977856cb8c71d0991a406da0c27c83e0c41815e",
      "aliases": [
        "SNP-cursor_export_unknown_5248-302-08-text"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-03-powershell",
      "lang": "powershell",
      "code": "poetry install\n",
      "source": {
        "turn_index": 302,
        "block_index": 3
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "861de8f7f91322e0fc57d573c24d2f3ff2e01b90cba340e9f6354455cc342a9a",
      "aliases": [
        "SNP-cursor_export_unknown_5248-302-09-powershell"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-04-powershell",
      "lang": "powershell",
      "code": "cd frontend\nnpm install\n",
      "source": {
        "turn_index": 302,
        "block_index": 4
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "06dc7491ab1a750aa8c3ffb6f9d788764596f52810a2739259daf917f4d40886",
      "aliases": [
        "SNP-cursor_export_unknown_5248-302-10-powershell"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-05-powershell",
      "lang": "powershell",
      "code": "poetry run uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000\n",
      "source": {
        "turn_index": 302,
        "block_index": 5
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "d8fb4f2d751275b4560a3438c81f265858aa65eec14cf401bc31db667dfa24e2",
      "aliases": [
        "SNP-cursor_export_unknown_5248-302-11-powershell"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-06-powershell",
      "lang": "powershell",
      "code": "cd frontend\nnpm run dev\n",
      "source": {
        "turn_index": 302,
        "block_index": 6
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "f585edc39eaa12d7a1b140e6711512722027726438a61fab4364ca16459cef21",
      "aliases": [
        "SNP-cursor_export_unknown_5248-302-12-powershell"
      ]
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-13-python",
      "lang": "python",
      "code": "from backend.parser import parse_markdown\n\n# ë§ˆí¬ë‹¤ìš´ íŒŒì¼ íŒŒì‹±\nresult = parse_markdown(text, source_doc=\"input.md\")\n\n# ê²°ê³¼ êµ¬ì¡°\n{\n    \"session_meta\": SessionMeta(\n        session_id=\"cursor_export_2025-12-14_223636_KST\",\n        phase=6,\n        subphase=7,\n        ...\n    ),\n    \"turns\": [\n        Turn(\n            turn_index=0,\n            speaker=\"User\",\n            body=\"...\",\n            code_blocks=[...],\n            path_candidates=[...]\n        ),\n        ...\n    ],\n    \"code_blocks\": [...],  # ëª¨ë“  Turnì˜ ì½”ë“œ ë¸”ë¡ í†µí•©\n    \"artifacts\": [...]     # íŒŒì¼ ê²½ë¡œ í›„ë³´\n}\n",
      "source": {
        "turn_index": 302,
        "block_index": 13
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "b115ba05bc9aaaaf0eb2c00ec75bf703519fd42306e60d8fff57a6b90004c93e",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-302-14-powershell",
      "lang": "powershell",
      "code": "# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸\npoetry run pytest tests/test_parser.py -v\n\n# E2E í…ŒìŠ¤íŠ¸\npoetry run pytest tests/test_parser_e2e.py -v\n",
      "source": {
        "turn_index": 302,
        "block_index": 14
      },
      "links": {
        "event_seq": [
          303
        ]
      },
      "snippet_hash": "5aaa860c3c21af1a02cda72c3e8377d4129a4c26abd900329ffe4497e85d2052",
      "aliases": []
    },
    {
      "snippet_id": "SNP-cursor_export_unknown_5248-318-00-text",
      "lang": "text",
      "code": "\nREADME ì—…ë°ì´íŠ¸ í•­ëª©ì„ ì²´í¬í•˜ê³  ìµœì¢… í™•ì¸ ì¤‘ì…ë‹ˆë‹¤.\n\n\n",
      "source": {
        "turn_index": 318,
        "block_index": 0
      },
      "links": {
        "event_seq": [
          319
        ]
      },
      "snippet_hash": "1af1e2b824a8df0a1a88f8d0e6f1be6df47f74d0b5c42008a190d06828a87762",
      "aliases": []
    }
  ]
}